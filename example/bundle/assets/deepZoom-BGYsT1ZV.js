import{W as c,S as l,a as g,O as u}from"./three.module-e-akeimH.js";/* empty css               */import{g as w}from"./lil-gui.module.min-Vka56b52.js";import{C as h}from"./CameraTransitionManager-Aw6C4CUi.js";import{T as C}from"./TilesRenderer-C3SKmAML.js";import{D as f}from"./ImageFormatPlugin-BKz4sy5s.js";import{U as P}from"./UpdateOnChangePlugin-B00hu5lt.js";import{E as x}from"./EnvironmentControls-BRJ_vGuv.js";import"./I3DMLoader-BvoAYWAX.js";import"./readMagicBytes-CUUeQGnc.js";import"./GLTFLoader-uVyzW9cX.js";import"./Ellipsoid-Ctcbk2JV.js";import"./B3DMLoader-BmDNS6RO.js";import"./PNTSLoader-DzQ3_PKf.js";import"./CMPTLoader-Bq-8QR4v.js";import"./EllipsoidRegion-DVvlgLqj.js";let a,m,n,e,r;const s={errorTarget:1,renderScale:1,orthographic:!1};v();p();function v(){n=new c({antialias:!0}),n.setPixelRatio(window.devicePixelRatio),n.setSize(window.innerWidth,window.innerHeight),n.setClearColor(1118481),document.body.appendChild(n.domElement),m=new l,r=new h(new g(60,window.innerWidth/window.innerHeight,.001,1e4),new u(-1,1,1,-1,0,4e3)),r.camera.position.set(0,0,150),r.camera.lookAt(0,0,0),r.autoSync=!1,r.addEventListener("camera-change",({camera:i,prevCamera:o})=>{e.deleteCamera(o),e.setCamera(i),a.setCamera(i)}),e=new C("https://openseadragon.github.io/example-images/duomo/duomo.dzi"),e.registerPlugin(new f({center:!0})),e.registerPlugin(new P),e.fetchOptions.mode="cors",e.lruCache.minSize=900,e.lruCache.maxSize=1300,e.errorTarget=1,e.setCamera(r.camera),m.add(e.group),a=new x(m,r.camera,n.domElement),a.minZoomDistance=2,a.minDistance=.01,a.maxDistance=1e3,a.cameraRadius=0,a.enableDamping=!0,a.fallbackPlane.normal.set(0,0,1),a.up.set(0,0,1),d(),window.addEventListener("resize",d,!1);const t=new w;t.add(s,"orthographic").onChange(i=>{r.fixedPoint.copy(a.pivotPoint),r.syncCameras(),a.adjustCamera(r.perspectiveCamera),a.adjustCamera(r.orthographicCamera),r.toggle()}),t.add(s,"errorTarget",0,100).onChange(()=>{e.getPluginByName("UPDATE_ON_CHANGE_PLUGIN").needsUpdate=!0}),t.add(s,"renderScale",.1,1,.05).onChange(i=>n.setPixelRatio(i*window.devicePixelRatio)),t.open()}function d(){const{perspectiveCamera:t,orthographicCamera:i}=r,o=window.innerWidth/window.innerHeight;i.bottom=-40,i.top=40,i.left=-40*o,i.right=40*o,i.updateProjectionMatrix(),t.aspect=o,t.updateProjectionMatrix(),n.setSize(window.innerWidth,window.innerHeight)}function p(){requestAnimationFrame(p),a.enabled=!r.animating,a.update(),r.update();const t=r.camera;t.updateMatrixWorld(),e.errorTarget=s.errorTarget,e.setCamera(t),e.setResolutionFromRenderer(t,n),e.update(),n.render(m,t)}
